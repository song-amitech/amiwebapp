server:
  # Azure App Service のリバースプロキシ対応（最重要）
  forward-headers-strategy: framework

  tomcat:
    use-relative-redirects: true
    remoteip:
      protocol-header: x-forwarded-proto
      remote-ip-header: x-forwarded-for
      host-header: x-forwarded-host
      port-header: x-forwarded-port

spring:
  # Spring Boot 3.4 + Proxy 経由での Path 解釈安定化
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher

  # Spring Web の自動 Resource Mapping を無効化（400 回避）
  web:
    resources:
      add-mappings: false

  datasource:
    url: jdbc:postgresql://amitechpsqlsvr01.postgres.database.azure.com:5432/webappdb?sslmode=require
    username: amitechdbadmin
    password: Psqlp@swadmin2025

  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false

management:
  endpoints:
    web:
      exposure:
        include: health,info
